{"metadata": {"created_at": "2023-10-31T21:02:38.169273", "name": "aligned-example"}, "feature_views": [{"name": "titanic", "tags": {}, "batch_data_source": {"mapping_keys": {"PassengerId": "passenger_id", "Age": "age", "Name": "name", "Sex": "sex", "Survived": "survived", "SibSp": "sibsp", "Cabin": "cabin"}, "type_name": "csv", "path": "https://raw.githubusercontent.com/otovo/aligned-example/main/data/titanic.csv", "csv_config": {"seperator": ",", "compression": "infer", "should_write_index": false}}, "entities": [{"name": "passenger_id", "dtype": {"name": "int32"}}], "features": [{"name": "name", "dtype": {"name": "string"}}, {"name": "sex", "dtype": {"name": "string"}, "constraints": [{"name": "in_domain", "values": ["male", "female"]}]}, {"name": "survived", "dtype": {"name": "bool"}, "description": "If the passenger survived", "constraints": [{"name": "requierd"}]}, {"name": "sibsp", "dtype": {"name": "int32"}, "description": "Number of siblings on titanic"}, {"name": "age", "dtype": {"name": "float"}}, {"name": "cabin", "dtype": {"name": "string"}}], "derived_features": [{"name": "constant_filled_age", "dtype": {"name": "float"}, "depending_on": [{"name": "age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "fill_missing", "dtype": {"name": "float"}, "key": "age", "value": {"name": "int", "value": 0}}, "depth": 1}, {"name": "floored_age", "dtype": {"name": "int64"}, "depending_on": [{"name": "age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "floor", "dtype": {"name": "int64"}, "key": "age"}, "depth": 1}, {"name": "has_siblings", "dtype": {"name": "bool"}, "depending_on": [{"name": "sibsp", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "int32"}}], "transformation": {"name": "gt", "dtype": {"name": "bool"}, "key": "sibsp", "value": 0.0}, "depth": 1}, {"name": "subtracting", "dtype": {"name": "float"}, "depending_on": [{"name": "sibsp", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "int32"}}, {"name": "age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "sub", "dtype": {"name": "float"}, "front": "sibsp", "behind": "age"}, "depth": 1}, {"name": "rounded_age", "dtype": {"name": "int64"}, "depending_on": [{"name": "age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "round", "dtype": {"name": "int64"}, "key": "age"}, "depth": 1}, {"name": "logical_and", "dtype": {"name": "bool"}, "depending_on": [{"name": "is_mr", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "bool"}}, {"name": "survived", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "bool"}}], "transformation": {"name": "and", "dtype": {"name": "bool"}, "first_key": "is_mr", "second_key": "survived"}, "depth": 2}, {"name": "ordinal_sex", "dtype": {"name": "int32"}, "constraints": [{"name": "requierd"}], "depending_on": [{"name": "sex", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "string"}}], "transformation": {"name": "ordinal", "dtype": {"name": "int32"}, "key": "sex", "orders": ["male", "female"]}, "depth": 1}, {"name": "is_mr", "dtype": {"name": "bool"}, "depending_on": [{"name": "name", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "string"}}], "transformation": {"name": "contains", "dtype": {"name": "bool"}, "key": "name", "value": "Mr\\."}, "depth": 1}, {"name": "is_male", "dtype": {"name": "bool"}, "depending_on": [{"name": "sex", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "string"}}], "transformation": {"name": "equals", "dtype": {"name": "bool"}, "key": "sex", "value": {"name": "string", "value": "male"}}, "depth": 1}, {"name": "age_ratio", "dtype": {"name": "float"}, "depending_on": [{"name": "age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "polars_lambda_tran", "dtype": {"name": "float"}, "method": "gASVdwAAAAAAAACMEHBvbGFycy5leHByLmV4cHKUjARFeHBylJOUKYGUQ1N7IkJpbmFyeUV4cHIi\nOnsibGVmdCI6eyJDb2x1bW4iOiJhZ2UifSwib3AiOiJUcnVlRGl2aWRlIiwicmlnaHQiOnsiQ29s\ndW1uIjoiYWdlIn19fZRiLg==\n", "code": "[(col(\"age\")) / (col(\"age\"))]"}, "depth": 1}, {"name": "ceiled_age", "dtype": {"name": "int64"}, "depending_on": [{"name": "age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "ceil", "dtype": {"name": "int64"}, "key": "age"}, "depth": 1}, {"name": "greater_than", "dtype": {"name": "bool"}, "depending_on": [{"name": "sibsp", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "int32"}}, {"name": "age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "gtf", "dtype": {"name": "bool"}, "left_key": "sibsp", "right_key": "age"}, "depth": 1}, {"name": "abs_scaled_age", "dtype": {"name": "float"}, "depending_on": [{"name": "constant_filled_age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "abs", "dtype": {"name": "float"}, "key": "constant_filled_age"}, "depth": 2}, {"name": "inverted_is_mr", "dtype": {"name": "bool"}, "depending_on": [{"name": "is_mr", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "bool"}}], "transformation": {"name": "inverse", "dtype": {"name": "bool"}, "key": "is_mr"}, "depth": 2}, {"name": "ratio", "dtype": {"name": "float"}, "depending_on": [{"name": "constant_filled_age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "ratio", "dtype": {"name": "float"}, "numerator": "constant_filled_age", "denumerator": "age"}, "depth": 2}, {"name": "floor_ratio", "dtype": {"name": "float"}, "depending_on": [{"name": "constant_filled_age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "ratio", "dtype": {"name": "float"}, "numerator": "constant_filled_age", "denumerator": "age"}, "depth": 2}, {"name": "is_female", "dtype": {"name": "bool"}, "depending_on": [{"name": "sex", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "string"}}], "transformation": {"name": "equals", "dtype": {"name": "bool"}, "key": "sex", "value": {"name": "string", "value": "female"}}, "depth": 1}, {"name": "logical_or", "dtype": {"name": "bool"}, "depending_on": [{"name": "is_mr", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "bool"}}, {"name": "survived", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "bool"}}], "transformation": {"name": "or", "dtype": {"name": "bool"}, "first_key": "is_mr", "second_key": "survived"}, "depth": 2}, {"name": "adding", "dtype": {"name": "float"}, "depending_on": [{"name": "sibsp", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "int32"}}, {"name": "age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "add", "dtype": {"name": "float"}, "front": "sibsp", "behind": "age"}, "depth": 1}], "description": "Some features from the titanic dataset", "aggregated_features": [], "stream_data_source": {"mapping_keys": {}, "name": "redis", "topic_name": "titanic", "config": {"env_var": "REDIS_URL"}, "record_coder": {"coder_type": "json", "key": "json_data"}}, "indexes": []}, {"name": "zipcode_features", "tags": {}, "batch_data_source": {"mapping_keys": {}, "type_name": "parquet", "path": "data/zipcode_table.parquet", "config": {"engine": "auto", "compression": "snappy", "should_write_index": false}}, "entities": [{"name": "zipcode", "dtype": {"name": "int64"}}], "features": [{"name": "state", "dtype": {"name": "string"}}, {"name": "location_type", "dtype": {"name": "string"}}, {"name": "event_timestamp", "dtype": {"name": "datetime"}}, {"name": "tax_returns_filed", "dtype": {"name": "int64"}}, {"name": "total_wages", "dtype": {"name": "int64"}}, {"name": "city", "dtype": {"name": "string"}}, {"name": "population", "dtype": {"name": "int64"}}], "derived_features": [{"name": "is_primary_location", "dtype": {"name": "bool"}, "depending_on": [{"name": "location_type", "location": {"name": "zipcode_features", "location": "feature_view"}, "dtype": {"name": "string"}}], "transformation": {"name": "equals", "dtype": {"name": "bool"}, "key": "location_type", "value": {"name": "string", "value": "PRIMARY"}}, "depth": 1}], "description": "", "aggregated_features": [], "event_timestamp": {"name": "event_timestamp", "ttl": 315360000, "dtype": {"name": "datetime"}}, "indexes": []}, {"name": "taxi_vendor", "tags": {}, "batch_data_source": {"mapping_keys": {"passenger_count": "number_of_passengers"}, "type_name": "psql", "config": {"env_var": "TAXI_DATABASE", "schema": null}, "table": "departures"}, "entities": [{"name": "vendor_id", "dtype": {"name": "int32"}}], "features": [{"name": "pickuped_at", "dtype": {"name": "datetime"}}, {"name": "number_of_passengers", "dtype": {"name": "int32"}, "constraints": [{"name": "lower_bound", "value": 0.0}, {"name": "requierd"}]}], "derived_features": [{"name": "mean_passenger_change", "dtype": {"name": "float"}, "depending_on": [{"name": "passenger_20_min_mean", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "passenger_hour_mean", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "sub", "dtype": {"name": "float"}, "front": "passenger_20_min_mean", "behind": "passenger_hour_mean"}, "depth": 2}], "description": "Features realated to the taxi vendor", "aggregated_features": [{"derived_feature": {"name": "passenger_20_min_mean", "dtype": {"name": "float"}, "depending_on": [{"name": "number_of_passengers", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "transformation": {"name": "mean_agg", "dtype": {"name": "float"}, "key": "number_of_passengers", "group_keys": ["vendor_id"]}, "depth": 1}, "aggregate_over": {"group_by": [{"name": "vendor_id", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "window": {"time_window": 1200.0, "time_column": {"name": "pickuped_at", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "datetime"}}}}}, {"derived_feature": {"name": "passenger_20_min_sum", "dtype": {"name": "float"}, "depending_on": [{"name": "number_of_passengers", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "transformation": {"name": "sum_agg", "dtype": {"name": "float"}, "key": "number_of_passengers", "group_keys": ["vendor_id"]}, "depth": 1}, "aggregate_over": {"group_by": [{"name": "vendor_id", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "window": {"time_window": 1200.0, "time_column": {"name": "pickuped_at", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "datetime"}}}}}, {"derived_feature": {"name": "passenger_hour_mean", "dtype": {"name": "float"}, "depending_on": [{"name": "number_of_passengers", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "transformation": {"name": "mean_agg", "dtype": {"name": "float"}, "key": "number_of_passengers", "group_keys": ["vendor_id"]}, "depth": 1}, "aggregate_over": {"group_by": [{"name": "vendor_id", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "window": {"time_window": 3600.0, "time_column": {"name": "pickuped_at", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "datetime"}}}}}, {"derived_feature": {"name": "passenger_hour_count", "dtype": {"name": "int64"}, "depending_on": [{"name": "number_of_passengers", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "transformation": {"name": "count_agg", "dtype": {"name": "float"}, "key": "number_of_passengers", "group_keys": ["vendor_id"]}, "depth": 1}, "aggregate_over": {"group_by": [{"name": "vendor_id", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "window": {"time_window": 3600.0, "time_column": {"name": "pickuped_at", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "datetime"}}}}}, {"derived_feature": {"name": "passenger_hour_sum", "dtype": {"name": "float"}, "depending_on": [{"name": "number_of_passengers", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "transformation": {"name": "sum_agg", "dtype": {"name": "float"}, "key": "number_of_passengers", "group_keys": ["vendor_id"]}, "depth": 1}, "aggregate_over": {"group_by": [{"name": "vendor_id", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "window": {"time_window": 3600.0, "time_column": {"name": "pickuped_at", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "datetime"}}}}}, {"derived_feature": {"name": "passenger_20_min_variance", "dtype": {"name": "float"}, "depending_on": [{"name": "number_of_passengers", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "transformation": {"name": "var_agg", "dtype": {"name": "float"}, "key": "number_of_passengers", "group_keys": ["vendor_id"]}, "depth": 1}, "aggregate_over": {"group_by": [{"name": "vendor_id", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "window": {"time_window": 1200.0, "time_column": {"name": "pickuped_at", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "datetime"}}}}}, {"derived_feature": {"name": "passenger_20_min_count", "dtype": {"name": "int64"}, "depending_on": [{"name": "number_of_passengers", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "transformation": {"name": "count_agg", "dtype": {"name": "float"}, "key": "number_of_passengers", "group_keys": ["vendor_id"]}, "depth": 1}, "aggregate_over": {"group_by": [{"name": "vendor_id", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "window": {"time_window": 1200.0, "time_column": {"name": "pickuped_at", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "datetime"}}}}}, {"derived_feature": {"name": "passenger_hour_variance", "dtype": {"name": "float"}, "depending_on": [{"name": "number_of_passengers", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "transformation": {"name": "var_agg", "dtype": {"name": "float"}, "key": "number_of_passengers", "group_keys": ["vendor_id"]}, "depth": 1}, "aggregate_over": {"group_by": [{"name": "vendor_id", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "window": {"time_window": 3600.0, "time_column": {"name": "pickuped_at", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "datetime"}}}}}], "event_timestamp": {"name": "pickuped_at", "dtype": {"name": "datetime"}}, "stream_data_source": {"mapping_keys": {}, "name": "redis", "topic_name": "departures", "config": {"env_var": "REDIS_URL"}, "record_coder": {"coder_type": "passthrough"}}, "indexes": []}, {"name": "taxi_arrivals", "tags": {}, "batch_data_source": {"mapping_keys": {}, "type_name": "psql", "config": {"env_var": "TAXI_DATABASE", "schema": null}, "table": "arrivals"}, "entities": [{"name": "trip_id", "dtype": {"name": "uuid"}}], "features": [{"name": "duration", "dtype": {"name": "int64"}, "description": "The duration of the ride", "constraints": [{"name": "requierd"}, {"name": "upper_bound", "value": 14400.0}]}, {"name": "received_at", "dtype": {"name": "datetime"}, "description": "When the arrival records was sent to the server. It could have been stored on the car for a while"}], "derived_features": [], "description": "The arrivals in the taxi data", "aggregated_features": [], "event_timestamp": {"name": "received_at", "description": "When the arrival records was sent to the server. It could have been stored on the car for a while", "dtype": {"name": "datetime"}}, "stream_data_source": {"mapping_keys": {}, "name": "redis", "topic_name": "arrivals", "config": {"env_var": "REDIS_URL"}, "record_coder": {"coder_type": "passthrough"}}, "indexes": []}, {"name": "cc", "tags": {}, "batch_data_source": {"mapping_keys": {}, "type_name": "parquet", "path": "cc.parquet", "config": {"engine": "auto", "compression": "snappy", "should_write_index": false}}, "entities": [{"name": "dob_ssn", "dtype": {"name": "string"}, "description": "Date of birth and last four digits of social security number"}], "features": [{"name": "mortgage_due", "dtype": {"name": "int64"}}, {"name": "event_timestamp", "dtype": {"name": "datetime"}}, {"name": "missed_payments_6m", "dtype": {"name": "int64"}}, {"name": "credit_card_due", "dtype": {"name": "int64"}}, {"name": "hard_pulls", "dtype": {"name": "int64"}}, {"name": "missed_payments_1y", "dtype": {"name": "int64"}}, {"name": "student_loan_due", "dtype": {"name": "int64"}}, {"name": "missed_payments_2y", "dtype": {"name": "int64"}}, {"name": "bankruptcies", "dtype": {"name": "int64"}}, {"name": "vehicle_loan_due", "dtype": {"name": "int64"}}], "derived_features": [{"name": "is_test", "dtype": {"name": "bool"}, "depending_on": [{"name": "credit_card_due", "location": {"name": "cc", "location": "feature_view"}, "dtype": {"name": "int64"}}], "transformation": {"name": "gt", "dtype": {"name": "bool"}, "key": "credit_card_due", "value": 5000.0}, "depth": 1}], "description": "", "aggregated_features": [], "event_timestamp": {"name": "event_timestamp", "ttl": 7776000, "dtype": {"name": "datetime"}}, "staging_source": {"type_name": "subset", "source": {"mapping_keys": {}, "type_name": "parquet", "path": "data/credit_history.parquet", "config": {"engine": "auto", "compression": "snappy", "should_write_index": false}}, "condition": {"name": "is_test", "dtype": {"name": "bool"}, "description": null, "tags": null, "constraints": null, "depending_on": [{"name": "credit_card_due", "location": {"name": "cc", "location": "feature_view"}, "dtype": {"name": "int64"}}], "transformation": {"name": "gt", "dtype": {"name": "bool"}, "key": "credit_card_due", "value": 5000.0}, "depth": 1}}, "indexes": []}, {"name": "question", "tags": {}, "batch_data_source": {"mapping_keys": {"topicID": "topic_id"}, "type_name": "psql", "config": {"env_var": "QUESTION_DATABASE", "schema": null}, "table": "Task"}, "entities": [{"name": "id", "dtype": {"name": "int64"}}], "features": [{"name": "question", "dtype": {"name": "string"}}, {"name": "description", "dtype": {"name": "string"}}, {"name": "topic_id", "dtype": {"name": "int32"}}], "derived_features": [{"name": "full_question", "dtype": {"name": "string"}, "depending_on": [{"name": "description", "location": {"name": "question", "location": "feature_view"}, "dtype": {"name": "string"}}, {"name": "question", "location": {"name": "question", "location": "feature_view"}, "dtype": {"name": "string"}}], "transformation": {"name": "append_strings", "dtype": {"name": "string"}, "first_key": "description", "second_key": "question", "sep": ""}, "depth": 1}, {"name": "question_embedding", "dtype": {"name": "embedding"}, "depending_on": [{"name": "full_question", "location": {"name": "question", "location": "feature_view"}, "dtype": {"name": "string"}}], "transformation": {"name": "word_vectoriser", "dtype": {"name": "embedding"}, "key": "full_question", "model": {"name": "huggingface", "model": "all-MiniLM-L6-v2", "loaded_model": null}}, "depth": 2}], "description": "Features related to a question", "aggregated_features": [], "indexes": [{"location": {"name": "question", "location": "feature_view"}, "vector": {"name": "question_embedding", "dtype": {"name": "embedding"}}, "vector_dim": 384, "metadata": [{"name": "topic_id", "dtype": {"name": "int32"}}], "storage": {"type_name": "redis", "config": {"env_var": "REDIS_URL"}, "name": "question_embedding_index", "initial_cap": 10000, "distance_metric": "COSINE", "index_alogrithm": "FLAT", "embedding_type": "FLOAT32"}, "entities": [{"name": "id", "dtype": {"name": "int64"}}]}]}, {"name": "loan", "tags": {}, "batch_data_source": {"mapping_keys": {"loan_amnt": "loan_amount"}, "type_name": "parquet", "path": "data/loan_table.parquet", "config": {"engine": "auto", "compression": "snappy", "should_write_index": false}}, "entities": [{"name": "loan_id", "dtype": {"name": "string"}}], "features": [{"name": "event_timestamp", "dtype": {"name": "datetime"}}, {"name": "person_income", "dtype": {"name": "int64"}}, {"name": "loan_status", "dtype": {"name": "bool"}, "description": "If the loan was granted or not"}, {"name": "person_home_ownership", "dtype": {"name": "string"}, "constraints": [{"name": "in_domain", "values": ["RENT", "OWN", "MORTGAGE", "OTHER"]}]}, {"name": "person_age", "dtype": {"name": "int64"}}, {"name": "loan_amount", "dtype": {"name": "int64"}}, {"name": "person_emp_length", "dtype": {"name": "float"}, "description": "The number of months the person has been employed in the current job"}, {"name": "loan_intent", "dtype": {"name": "string"}, "constraints": [{"name": "in_domain", "values": ["PERSONAL", "EDUCATION", "MEDICAL", "VENTURE", "HOMEIMPROVEMENT", "DEBTCONSOLIDATION"]}]}, {"name": "loan_int_rate", "dtype": {"name": "float"}, "description": "The interest rate of the loan"}], "derived_features": [{"name": "loan_intent_ordinal", "dtype": {"name": "int32"}, "depending_on": [{"name": "loan_intent", "location": {"name": "loan", "location": "feature_view"}, "dtype": {"name": "string"}}], "transformation": {"name": "ordinal", "dtype": {"name": "int32"}, "key": "loan_intent", "orders": ["PERSONAL", "EDUCATION", "MEDICAL", "VENTURE", "HOMEIMPROVEMENT", "DEBTCONSOLIDATION"]}, "depth": 1}, {"name": "person_home_ownership_ordinal", "dtype": {"name": "int32"}, "depending_on": [{"name": "person_home_ownership", "location": {"name": "loan", "location": "feature_view"}, "dtype": {"name": "string"}}], "transformation": {"name": "ordinal", "dtype": {"name": "int32"}, "key": "person_home_ownership", "orders": ["RENT", "OWN", "MORTGAGE", "OTHER"]}, "depth": 1}], "description": "The granted loans", "aggregated_features": [], "event_timestamp": {"name": "event_timestamp", "dtype": {"name": "datetime"}}, "indexes": []}, {"name": "taxi_departures", "tags": {}, "batch_data_source": {"mapping_keys": {}, "type_name": "psql", "config": {"env_var": "TAXI_DATABASE", "schema": null}, "table": "departures"}, "entities": [{"name": "trip_id", "dtype": {"name": "uuid"}}], "features": [{"name": "pickup_latitude", "dtype": {"name": "float"}, "constraints": [{"name": "requierd"}]}, {"name": "dropoff_latitude", "dtype": {"name": "float"}, "constraints": [{"name": "requierd"}]}, {"name": "number_of_passengers", "dtype": {"name": "int32"}}, {"name": "dropoff_longitude", "dtype": {"name": "float"}, "constraints": [{"name": "requierd"}]}, {"name": "pickuped_at", "dtype": {"name": "datetime"}}, {"name": "pickup_longitude", "dtype": {"name": "float"}, "constraints": [{"name": "requierd"}]}], "derived_features": [{"name": "day_of_week", "dtype": {"name": "int32"}, "description": "The day in the month", "depending_on": [{"name": "pickuped_at", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "datetime"}}], "transformation": {"name": "date-component", "dtype": {"name": "int32"}, "key": "pickuped_at", "component": "day"}, "depth": 1}, {"name": "4", "dtype": {"name": "float"}, "depending_on": [{"name": "2", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "3", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "add", "dtype": {"name": "float"}, "front": "2", "behind": "3"}, "depth": 3}, {"name": "travel_distance", "dtype": {"name": "float"}, "constraints": [{"name": "lower_bound", "value": 0.0}], "depending_on": [{"name": "4", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "power", "dtype": {"name": "float"}, "key": "4", "power": {"name": "float", "value": 0.5}}, "depth": 4}, {"name": "2", "dtype": {"name": "float"}, "depending_on": [{"name": "0", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "power", "dtype": {"name": "float"}, "key": "0", "power": {"name": "int", "value": 2}}, "depth": 2}, {"name": "0", "dtype": {"name": "float"}, "depending_on": [{"name": "dropoff_latitude", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "pickup_latitude", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "sub", "dtype": {"name": "float"}, "front": "dropoff_latitude", "behind": "pickup_latitude"}, "depth": 1}, {"name": "1", "dtype": {"name": "float"}, "depending_on": [{"name": "dropoff_longitude", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "pickup_longitude", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "sub", "dtype": {"name": "float"}, "front": "dropoff_longitude", "behind": "pickup_longitude"}, "depth": 1}, {"name": "3", "dtype": {"name": "float"}, "depending_on": [{"name": "1", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "power", "dtype": {"name": "float"}, "key": "1", "power": {"name": "int", "value": 2}}, "depth": 2}], "description": "Features related to the departure of a taxi ride", "aggregated_features": [], "event_timestamp": {"name": "pickuped_at", "dtype": {"name": "datetime"}}, "stream_data_source": {"mapping_keys": {}, "name": "redis", "topic_name": "departures", "config": {"env_var": "REDIS_URL"}, "record_coder": {"coder_type": "passthrough"}}, "indexes": []}, {"name": "documentation_snippet", "tags": {}, "batch_data_source": {"mapping_keys": {}, "type_name": "csv", "path": "data/snippets.csv", "csv_config": {"seperator": ";", "compression": "infer", "should_write_index": false}}, "entities": [{"name": "id", "dtype": {"name": "int64"}}], "features": [{"name": "version_tag", "dtype": {"name": "string"}, "description": "The aligned version tag that the snippet is valid for", "constraints": [{"name": "requierd"}]}, {"name": "snippet", "dtype": {"name": "string"}, "description": "The documentation", "constraints": [{"name": "requierd"}]}, {"name": "source_file", "dtype": {"name": "string"}, "description": "The file that the snippet is from", "constraints": [{"name": "requierd"}]}], "derived_features": [{"name": "combined_snippet", "dtype": {"name": "string"}, "depending_on": [{"name": "0", "location": {"name": "documentation_snippet", "location": "feature_view"}, "dtype": {"name": "string"}}, {"name": "source_file", "location": {"name": "documentation_snippet", "location": "feature_view"}, "dtype": {"name": "string"}}], "transformation": {"name": "append_strings", "dtype": {"name": "string"}, "first_key": "0", "second_key": "source_file", "sep": ""}, "depth": 2}, {"name": "snippet_embedding", "dtype": {"name": "embedding"}, "depending_on": [{"name": "combined_snippet", "location": {"name": "documentation_snippet", "location": "feature_view"}, "dtype": {"name": "string"}}], "transformation": {"name": "word_vectoriser", "dtype": {"name": "embedding"}, "key": "combined_snippet", "model": {"name": "huggingface", "model": "all-MiniLM-L6-v2", "loaded_model": null}}, "depth": 3}, {"name": "0", "dtype": {"name": "string"}, "depending_on": [{"name": "snippet", "location": {"name": "documentation_snippet", "location": "feature_view"}, "dtype": {"name": "string"}}], "transformation": {"name": "append_const_string", "dtype": {"name": "string"}, "key": "snippet", "string": "\n\nSource file: "}, "depth": 1}], "description": "Features related to a snippet of the Aligned documentation", "aggregated_features": [], "indexes": [{"location": {"name": "documentation_snippet", "location": "feature_view"}, "vector": {"name": "snippet_embedding", "dtype": {"name": "embedding"}}, "vector_dim": 384, "metadata": [{"name": "version_tag", "dtype": {"name": "string"}, "description": "The aligned version tag that the snippet is valid for", "constraints": [{"name": "requierd"}]}, {"name": "source_file", "dtype": {"name": "string"}, "description": "The file that the snippet is from", "constraints": [{"name": "requierd"}]}], "storage": {"type_name": "redis", "config": {"env_var": "REDIS_URL"}, "name": "doc_index", "initial_cap": 1000, "distance_metric": "COSINE", "index_alogrithm": "FLAT", "embedding_type": "FLOAT32"}, "entities": [{"name": "id", "dtype": {"name": "int64"}}]}]}, {"name": "credit_history", "tags": {}, "batch_data_source": {"mapping_keys": {}, "type_name": "parquet", "path": "data/credit_history.parquet", "config": {"engine": "auto", "compression": "snappy", "should_write_index": false}}, "entities": [{"name": "dob_ssn", "dtype": {"name": "string"}, "description": "Date of birth and last four digits of social security number"}], "features": [{"name": "mortgage_due", "dtype": {"name": "int64"}}, {"name": "event_timestamp", "dtype": {"name": "datetime"}}, {"name": "missed_payments_6m", "dtype": {"name": "int64"}}, {"name": "credit_card_due", "dtype": {"name": "int64"}}, {"name": "hard_pulls", "dtype": {"name": "int64"}}, {"name": "missed_payments_1y", "dtype": {"name": "int64"}}, {"name": "student_loan_due", "dtype": {"name": "int64"}}, {"name": "missed_payments_2y", "dtype": {"name": "int64"}}, {"name": "bankruptcies", "dtype": {"name": "int64"}}, {"name": "vehicle_loan_due", "dtype": {"name": "int64"}}], "derived_features": [{"name": "is_test", "dtype": {"name": "bool"}, "depending_on": [{"name": "credit_card_due", "location": {"name": "credit_history", "location": "feature_view"}, "dtype": {"name": "int64"}}], "transformation": {"name": "gt", "dtype": {"name": "bool"}, "key": "credit_card_due", "value": 5000.0}, "depth": 1}], "description": "", "aggregated_features": [], "event_timestamp": {"name": "event_timestamp", "ttl": 7776000, "dtype": {"name": "datetime"}}, "indexes": []}, {"name": "mnist", "tags": {}, "batch_data_source": {"mapping_keys": {}, "type_name": "csv", "path": "data/mnist.csv", "csv_config": {"seperator": ",", "compression": "infer", "should_write_index": false}}, "entities": [{"name": "id", "dtype": {"name": "int32"}}], "features": [{"name": "image_url", "dtype": {"name": "string"}}, {"name": "label", "dtype": {"name": "int32"}}], "derived_features": [{"name": "grayscale_image", "dtype": {"name": "array"}, "depending_on": [{"name": "image", "location": {"name": "mnist", "location": "feature_view"}, "dtype": {"name": "array"}}], "transformation": {"name": "grayscale_image", "dtype": {"name": "array"}, "image_key": "image"}, "depth": 2}, {"name": "image", "dtype": {"name": "array"}, "depending_on": [{"name": "image_url", "location": {"name": "mnist", "location": "feature_view"}, "dtype": {"name": "string"}}], "transformation": {"name": "load_image", "dtype": {"name": "array"}, "image_url_key": "image_url"}, "depth": 1}], "description": "Features desrcribing the mnist features", "aggregated_features": [], "indexes": []}], "combined_feature_views": [], "models": [{"name": "titanic", "features": [{"name": "has_siblings", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "bool"}}, {"name": "is_mr", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "bool"}}, {"name": "is_male", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "bool"}}, {"name": "constant_filled_age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "predictions_view": {"entities": [], "features": [{"name": "survived", "dtype": {"name": "bool"}}], "derived_features": [], "source": {"mapping_keys": {"PassengerId": "passenger_id", "Age": "age", "Name": "name", "Sex": "sex", "Survived": "survived", "SibSp": "sibsp", "Cabin": "cabin"}, "type_name": "csv", "path": "https://raw.githubusercontent.com/otovo/aligned-example/main/data/titanic.csv", "csv_config": {"seperator": ",", "compression": "infer", "should_write_index": false}}, "regression_targets": [], "classification_targets": [{"estimating": {"name": "survived", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "bool"}}, "feature": {"name": "survived", "dtype": {"name": "bool"}}, "on_ground_truth_event": {"mapping_keys": {}, "name": "redis", "topic_name": "passenger_ground_truth", "config": {"env_var": "REDIS_URL"}, "record_coder": {"coder_type": "passthrough"}}, "event_trigger": {"condition": {"name": "0", "dtype": {"name": "bool"}, "depending_on": [{"name": "survived", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "bool"}}], "transformation": {"name": "not_null", "dtype": {"name": "bool"}, "key": "survived"}, "depth": 1}, "event": {"mapping_keys": {}, "name": "redis", "topic_name": "passenger_ground_truth", "config": {"env_var": "REDIS_URL"}, "record_coder": {"coder_type": "passthrough"}}, "payload": [{"name": "survived", "dtype": {"name": "bool"}, "description": "If the passenger survived", "constraints": [{"name": "requierd"}]}]}, "class_probabilities": []}]}, "description": "A model predicting if a passenger will survive on titanic"}, {"name": "question_subtopic", "features": [{"name": "question_embedding", "location": {"name": "question", "location": "feature_view"}, "dtype": {"name": "embedding"}}], "predictions_view": {"entities": [], "features": [{"name": "predicted_id", "dtype": {"name": "int32"}}], "derived_features": [], "regression_targets": [], "classification_targets": [{"estimating": {"name": "topic_id", "location": {"name": "question", "location": "feature_view"}, "dtype": {"name": "int32"}}, "feature": {"name": "predicted_id", "dtype": {"name": "int32"}}, "class_probabilities": []}]}, "description": "Predicts the expected subtopic, by comparing agains similar models"}, {"name": "credit_scoring", "features": [{"name": "person_income", "location": {"name": "loan", "location": "feature_view"}, "dtype": {"name": "int64"}}, {"name": "tax_returns_filed", "location": {"name": "zipcode_features", "location": "feature_view"}, "dtype": {"name": "int64"}}, {"name": "missed_payments_1y", "location": {"name": "cc", "location": "feature_view"}, "dtype": {"name": "int64"}}, {"name": "person_emp_length", "location": {"name": "loan", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "loan_int_rate", "location": {"name": "loan", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "vehicle_loan_due", "location": {"name": "cc", "location": "feature_view"}, "dtype": {"name": "int64"}}, {"name": "loan_amount", "location": {"name": "loan", "location": "feature_view"}, "dtype": {"name": "int64"}}, {"name": "city", "location": {"name": "zipcode_features", "location": "feature_view"}, "dtype": {"name": "string"}}, {"name": "state", "location": {"name": "zipcode_features", "location": "feature_view"}, "dtype": {"name": "string"}}, {"name": "mortgage_due", "location": {"name": "cc", "location": "feature_view"}, "dtype": {"name": "int64"}}, {"name": "missed_payments_6m", "location": {"name": "cc", "location": "feature_view"}, "dtype": {"name": "int64"}}, {"name": "hard_pulls", "location": {"name": "cc", "location": "feature_view"}, "dtype": {"name": "int64"}}, {"name": "credit_card_due", "location": {"name": "cc", "location": "feature_view"}, "dtype": {"name": "int64"}}, {"name": "missed_payments_2y", "location": {"name": "cc", "location": "feature_view"}, "dtype": {"name": "int64"}}, {"name": "loan_intent_ordinal", "location": {"name": "loan", "location": "feature_view"}, "dtype": {"name": "int32"}}, {"name": "bankruptcies", "location": {"name": "cc", "location": "feature_view"}, "dtype": {"name": "int64"}}, {"name": "person_home_ownership_ordinal", "location": {"name": "loan", "location": "feature_view"}, "dtype": {"name": "int32"}}, {"name": "total_wages", "location": {"name": "zipcode_features", "location": "feature_view"}, "dtype": {"name": "int64"}}, {"name": "person_age", "location": {"name": "loan", "location": "feature_view"}, "dtype": {"name": "int64"}}, {"name": "student_loan_due", "location": {"name": "cc", "location": "feature_view"}, "dtype": {"name": "int64"}}, {"name": "is_primary_location", "location": {"name": "zipcode_features", "location": "feature_view"}, "dtype": {"name": "bool"}}], "predictions_view": {"entities": [], "features": [{"name": "was_granted_loan", "dtype": {"name": "bool"}}, {"name": "prediction_version", "dtype": {"name": "int32"}}], "derived_features": [], "model_version_column": {"name": "prediction_version", "dtype": {"name": "int32"}}, "regression_targets": [], "classification_targets": [{"estimating": {"name": "loan_status", "location": {"name": "loan", "location": "feature_view"}, "dtype": {"name": "bool"}}, "feature": {"name": "was_granted_loan", "dtype": {"name": "bool"}}, "class_probabilities": []}]}, "description": "A model that do credit scoring"}, {"name": "taxi", "features": [{"name": "passenger_20_min_mean", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "travel_distance", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "mean_passenger_change", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "passenger_hour_mean", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "passenger_hour_count", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int64"}}, {"name": "passenger_20_min_variance", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "day_of_week", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "int32"}}, {"name": "passenger_20_min_count", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int64"}}, {"name": "passenger_hour_variance", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "float"}}], "predictions_view": {"entities": [{"name": "vendor_id", "dtype": {"name": "int32"}}, {"name": "trip_id", "dtype": {"name": "uuid"}}], "features": [{"name": "predicted_duration", "dtype": {"name": "int64"}}, {"name": "model_version", "dtype": {"name": "int32"}}], "derived_features": [], "model_version_column": {"name": "model_version", "dtype": {"name": "int32"}}, "source": {"mapping_keys": {"predicted_trips": "predicted_duration"}, "type_name": "psql", "config": {"env_var": "TAXI_DATABASE", "schema": null}, "table": "predicted_trips"}, "stream_source": {"mapping_keys": {}, "name": "redis", "topic_name": "predicted_trips", "config": {"env_var": "REDIS_URL"}, "record_coder": {"coder_type": "passthrough"}}, "regression_targets": [{"estimating": {"name": "duration", "location": {"name": "taxi_arrivals", "location": "feature_view"}, "dtype": {"name": "int64"}}, "feature": {"name": "predicted_duration", "dtype": {"name": "int64"}}, "on_ground_truth_event": {"mapping_keys": {}, "name": "redis", "topic_name": "on_ground_truth", "config": {"env_var": "REDIS_URL"}, "record_coder": {"coder_type": "passthrough"}}, "event_trigger": {"condition": {"name": "0", "dtype": {"name": "bool"}, "depending_on": [{"name": "duration", "location": {"name": "taxi_arrivals", "location": "feature_view"}, "dtype": {"name": "int64"}}], "transformation": {"name": "not_null", "dtype": {"name": "bool"}, "key": "duration"}, "depth": 1}, "event": {"mapping_keys": {}, "name": "redis", "topic_name": "on_ground_truth", "config": {"env_var": "REDIS_URL"}, "record_coder": {"coder_type": "passthrough"}}, "payload": [{"name": "duration", "dtype": {"name": "int64"}, "description": "The duration of the ride", "constraints": [{"name": "requierd"}, {"name": "upper_bound", "value": 14400.0}]}]}}], "classification_targets": []}, "description": "A regression model that predicts the duration of a ride"}, {"name": "mnist", "features": [{"name": "grayscale_image", "location": {"name": "mnist", "location": "feature_view"}, "dtype": {"name": "array"}}], "predictions_view": {"entities": [], "features": [{"name": "number", "dtype": {"name": "int32"}}], "derived_features": [], "regression_targets": [], "classification_targets": [{"estimating": {"name": "label", "location": {"name": "mnist", "location": "feature_view"}, "dtype": {"name": "int32"}}, "feature": {"name": "number", "dtype": {"name": "int32"}}, "class_probabilities": []}]}, "description": "A model that detects handwritten images"}], "enrichers": []}