{"metadata": {"created_at": "2023-05-06T13:13:42.238523", "name": "aligned-example"}, "online_source": {"source_type": "batch"}, "feature_views": [{"name": "taxi_arrivals", "description": "The arrivals in the taxi data", "tags": {}, "batch_data_source": {"mapping_keys": {}, "type_name": "psql", "config": {"env_var": "TAXI_DATABASE", "schema": null}, "table": "arrivals"}, "entities": [{"name": "trip_id", "dtype": {"name": "uuid"}}], "features": [{"name": "received_at", "dtype": {"name": "datetime"}, "description": "When the arrival records was sent to the server. It could have been stored on the car for a while"}, {"name": "duration", "dtype": {"name": "int64"}, "description": "The duration of the ride", "constraints": [{"name": "requierd"}, {"name": "upper_bound", "value": 14400.0}]}], "derived_features": [], "aggregated_features": [], "event_timestamp": {"name": "received_at", "description": "When the arrival records was sent to the server. It could have been stored on the car for a while", "dtype": {"name": "datetime"}}, "stream_data_source": {"name": "redis", "topic_name": "arrivals", "config": {"env_var": "REDIS_URL"}, "mappings": {}}, "indexes": []}, {"name": "titanic", "description": "Some features from the titanic dataset", "tags": {}, "batch_data_source": {"mapping_keys": {"PassengerId": "passenger_id", "Age": "age", "Name": "name", "Sex": "sex", "Survived": "survived", "SibSp": "sibsp", "Cabin": "cabin"}, "type_name": "csv", "path": "https://raw.githubusercontent.com/otovo/aligned-example/main/data/titanic.csv", "csv_config": {"seperator": ",", "compression": "infer", "should_write_index": false}}, "entities": [{"name": "passenger_id", "dtype": {"name": "int32"}}], "features": [{"name": "cabin", "dtype": {"name": "string"}}, {"name": "sex", "dtype": {"name": "string"}, "constraints": [{"name": "in_domain", "values": ["male", "female"]}]}, {"name": "age", "dtype": {"name": "float"}}, {"name": "name", "dtype": {"name": "string"}}, {"name": "survived", "dtype": {"name": "bool"}, "description": "If the passenger survived", "constraints": [{"name": "requierd"}]}, {"name": "sibsp", "dtype": {"name": "int32"}, "description": "Number of siblings on titanic"}], "derived_features": [{"name": "rounded_age", "dtype": {"name": "int64"}, "depending_on": [{"name": "age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "round", "dtype": {"name": "int64"}, "key": "age"}, "depth": 1}, {"name": "age_ratio", "dtype": {"name": "float"}, "depending_on": [{"name": "age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "polars_lambda_tran", "dtype": {"name": "float"}, "method": "gASVfQMAAAAAAACMCmRpbGwuX2RpbGyUjBBfY3JlYXRlX2Z1bmN0aW9ulJOUKGgAjAxfY3JlYXRl\nX2NvZGWUk5QoQwCUSwJLAEsASwJLBUsTQxJ8AKAAiABqAaACfAGhAaEBUwCUToWUjAt3aXRoX2Nv\nbHVtbpSMBm1ldGhvZJSMBWFsaWFzlIeUjAJkZpRoCoaUjFwvVXNlcnMvbWF0c21vbGxlc3RhZC9E\nZXNrdG9wL1BlcnNvbmFsUHJvai9hbGlnbmVkL2FsaWduZWQvY29tcGlsZXIvdHJhbnNmb3JtYXRp\nb25fZmFjdG9yeS5weZSMCDxsYW1iZGE+lE09AkMCEgCUjARzZWxmlIWUKXSUUpRjYWxpZ25lZC5j\nb21waWxlci50cmFuc2Zvcm1hdGlvbl9mYWN0b3J5Cl9fZGljdF9fCmgPTmgAjAxfY3JlYXRlX2Nl\nbGyUk5ROhZRSlIWUdJRSlH2UfZQojA9fX2Fubm90YXRpb25zX1+UfZSMDF9fcXVhbG5hbWVfX5SM\nNVBvbGFyc1RyYW5zZm9ybWF0aW9uRmFjdG9yeS5jb21waWxlLjxsb2NhbHM+LjxsYW1iZGE+lHWG\nlGKMCGJ1aWx0aW5zlIwHZ2V0YXR0cpSTlIwEZGlsbJSMBV9kaWxslJOUjAhfc2V0YXR0cpRoI4wH\nc2V0YXR0cpSTlIeUUpRoGIwNY2VsbF9jb250ZW50c5SMJ2FsaWduZWQuY29tcGlsZXIudHJhbnNm\nb3JtYXRpb25fZmFjdG9yeZSMG1BvbGFyc1RyYW5zZm9ybWF0aW9uRmFjdG9yeZSTlCmBlH2UKIwF\nZHR5cGWUjCBhbGlnbmVkLmNvbXBpbGVyLmZlYXR1cmVfZmFjdG9yeZSMBUZsb2F0lJOUKYGUfZQo\njA50cmFuc2Zvcm1hdGlvbpRoMowFX25hbWWUjAlhZ2VfcmF0aW+UjAlfbG9jYXRpb26UjBdhbGln\nbmVkLnNjaGVtYXMuZmVhdHVyZZSMD0ZlYXR1cmVMb2NhdGlvbpSTlCmBlH2UKIwEbmFtZZSMB3Rp\ndGFuaWOUjAhsb2NhdGlvbpSMDGZlYXR1cmVfdmlld5R1YnViaAloG4wPX3VzaW5nX2ZlYXR1cmVz\nlF2UaDcpgZR9lChoO4wDYWdllGg9aEApgZR9lChoQ2hEaEVoRnVidWJhdWKHlFIwLg==\n", "code": "self.method = lambda df, alias: df.with_column(self.method.alias(alias))"}, "depth": 1}, {"name": "is_female", "dtype": {"name": "bool"}, "depending_on": [{"name": "sex", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "string"}}], "transformation": {"name": "equals", "dtype": {"name": "bool"}, "key": "sex", "value": {"name": "string", "value": "female"}}, "depth": 1}, {"name": "is_male", "dtype": {"name": "bool"}, "depending_on": [{"name": "sex", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "string"}}], "transformation": {"name": "equals", "dtype": {"name": "bool"}, "key": "sex", "value": {"name": "string", "value": "male"}}, "depth": 1}, {"name": "is_mr", "dtype": {"name": "bool"}, "depending_on": [{"name": "name", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "string"}}], "transformation": {"name": "contains", "dtype": {"name": "bool"}, "key": "name", "value": "Mr\\."}, "depth": 1}, {"name": "floored_age", "dtype": {"name": "int64"}, "depending_on": [{"name": "age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "floor", "dtype": {"name": "int64"}, "key": "age"}, "depth": 1}, {"name": "floor_ratio", "dtype": {"name": "float"}, "depending_on": [{"name": "constant_filled_age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "ratio", "dtype": {"name": "float"}, "numerator": "constant_filled_age", "denumerator": "age"}, "depth": 2}, {"name": "logical_and", "dtype": {"name": "bool"}, "depending_on": [{"name": "is_mr", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "bool"}}, {"name": "survived", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "bool"}}], "transformation": {"name": "and", "dtype": {"name": "bool"}, "first_key": "is_mr", "second_key": "survived"}, "depth": 2}, {"name": "abs_scaled_age", "dtype": {"name": "float"}, "depending_on": [{"name": "constant_filled_age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "abs", "dtype": {"name": "float"}, "key": "constant_filled_age"}, "depth": 2}, {"name": "ceiled_age", "dtype": {"name": "int64"}, "depending_on": [{"name": "age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "ceil", "dtype": {"name": "int64"}, "key": "age"}, "depth": 1}, {"name": "subtracting", "dtype": {"name": "float"}, "depending_on": [{"name": "sibsp", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "int32"}}, {"name": "age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "sub", "dtype": {"name": "float"}, "front": "sibsp", "behind": "age"}, "depth": 1}, {"name": "has_siblings", "dtype": {"name": "bool"}, "depending_on": [{"name": "sibsp", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "int32"}}], "transformation": {"name": "gt", "dtype": {"name": "bool"}, "key": "sibsp", "value": 0.0}, "depth": 1}, {"name": "constant_filled_age", "dtype": {"name": "float"}, "depending_on": [{"name": "age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "fill_missing", "dtype": {"name": "float"}, "key": "age", "value": {"name": "int", "value": 0}}, "depth": 1}, {"name": "ordinal_sex", "dtype": {"name": "int32"}, "constraints": [{"name": "requierd"}], "depending_on": [{"name": "sex", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "string"}}], "transformation": {"name": "ordinal", "dtype": {"name": "int32"}, "key": "sex", "orders": ["male", "female"]}, "depth": 1}, {"name": "greater_than", "dtype": {"name": "bool"}, "depending_on": [{"name": "sibsp", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "int32"}}, {"name": "age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "gtf", "dtype": {"name": "bool"}, "left_key": "sibsp", "right_key": "age"}, "depth": 1}, {"name": "adding", "dtype": {"name": "float"}, "depending_on": [{"name": "sibsp", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "int32"}}, {"name": "age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "add", "dtype": {"name": "float"}, "front": "sibsp", "behind": "age"}, "depth": 1}, {"name": "ratio", "dtype": {"name": "float"}, "depending_on": [{"name": "constant_filled_age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "ratio", "dtype": {"name": "float"}, "numerator": "constant_filled_age", "denumerator": "age"}, "depth": 2}, {"name": "logical_or", "dtype": {"name": "bool"}, "depending_on": [{"name": "is_mr", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "bool"}}, {"name": "survived", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "bool"}}], "transformation": {"name": "or", "dtype": {"name": "bool"}, "first_key": "is_mr", "second_key": "survived"}, "depth": 2}, {"name": "inverted_is_mr", "dtype": {"name": "bool"}, "depending_on": [{"name": "is_mr", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "bool"}}], "transformation": {"name": "inverse", "dtype": {"name": "bool"}, "key": "is_mr"}, "depth": 2}], "aggregated_features": [], "stream_data_source": {"name": "redis", "topic_name": "titanic", "config": {"env_var": "REDIS_URL"}, "mappings": {}}, "indexes": []}, {"name": "question", "description": "Features related to a question", "tags": {}, "batch_data_source": {"mapping_keys": {"topicID": "topic_id"}, "type_name": "psql", "config": {"env_var": "QUESTION_DATABASE", "schema": null}, "table": "Task"}, "entities": [{"name": "id", "dtype": {"name": "int64"}}], "features": [{"name": "topic_id", "dtype": {"name": "int32"}}, {"name": "description", "dtype": {"name": "string"}}, {"name": "question", "dtype": {"name": "string"}}], "derived_features": [{"name": "question_embedding", "dtype": {"name": "embedding"}, "depending_on": [{"name": "full_question", "location": {"name": "question", "location": "feature_view"}, "dtype": {"name": "string"}}], "transformation": {"name": "word_vectoriser", "dtype": {"name": "embedding"}, "key": "full_question", "model": {"name": "huggingface", "model": "all-MiniLM-L6-v2", "loaded_model": null}}, "depth": 2}, {"name": "full_question", "dtype": {"name": "string"}, "depending_on": [{"name": "description", "location": {"name": "question", "location": "feature_view"}, "dtype": {"name": "string"}}, {"name": "question", "location": {"name": "question", "location": "feature_view"}, "dtype": {"name": "string"}}], "transformation": {"name": "append_strings", "dtype": {"name": "string"}, "first_key": "description", "second_key": "question", "sep": ""}, "depth": 1}], "aggregated_features": [], "stream_data_source": {"name": "http", "topic_name": "question", "mappings": {}}, "indexes": [{"location": {"name": "question", "location": "feature_view"}, "vector": {"name": "question_embedding", "dtype": {"name": "embedding"}}, "vector_dim": 384, "metadata": [{"name": "topic_id", "dtype": {"name": "int32"}}], "storage": {"type_name": "redis", "config": {"env_var": "REDIS_URL"}, "name": "question_embedding_index", "initial_cap": 10000, "distance_metric": "COSINE", "index_alogrithm": "FLAT", "embedding_type": "FLOAT32"}, "entities": [{"name": "id", "dtype": {"name": "int64"}}]}]}, {"name": "taxi_departures", "description": "Features related to the departure of a taxi ride", "tags": {}, "batch_data_source": {"mapping_keys": {}, "type_name": "psql", "config": {"env_var": "TAXI_DATABASE", "schema": null}, "table": "departures"}, "entities": [{"name": "trip_id", "dtype": {"name": "uuid"}}], "features": [{"name": "pickup_longitude", "dtype": {"name": "float"}}, {"name": "pickuped_at", "dtype": {"name": "datetime"}}, {"name": "number_of_passengers", "dtype": {"name": "int32"}}, {"name": "pickup_latitude", "dtype": {"name": "float"}}, {"name": "dropoff_latitude", "dtype": {"name": "float"}}, {"name": "dropoff_longitude", "dtype": {"name": "float"}}], "derived_features": [{"name": "day_of_week", "dtype": {"name": "int32"}, "description": "The day in the month", "depending_on": [{"name": "pickuped_at", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "datetime"}}], "transformation": {"name": "date-component", "dtype": {"name": "int32"}, "key": "pickuped_at", "component": "day"}, "depth": 1}, {"name": "4", "dtype": {"name": "float"}, "depending_on": [{"name": "2", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "3", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "add", "dtype": {"name": "float"}, "front": "2", "behind": "3"}, "depth": 3}, {"name": "1", "dtype": {"name": "float"}, "depending_on": [{"name": "dropoff_longitude", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "pickup_longitude", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "sub", "dtype": {"name": "float"}, "front": "dropoff_longitude", "behind": "pickup_longitude"}, "depth": 1}, {"name": "0", "dtype": {"name": "float"}, "depending_on": [{"name": "dropoff_latitude", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "pickup_latitude", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "sub", "dtype": {"name": "float"}, "front": "dropoff_latitude", "behind": "pickup_latitude"}, "depth": 1}, {"name": "2", "dtype": {"name": "float"}, "depending_on": [{"name": "0", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "power", "dtype": {"name": "float"}, "key": "0", "power": {"name": "int", "value": 2}}, "depth": 2}, {"name": "travel_distance", "dtype": {"name": "float"}, "constraints": [{"name": "lower_bound", "value": 0.0}], "depending_on": [{"name": "4", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "power", "dtype": {"name": "float"}, "key": "4", "power": {"name": "float", "value": 0.5}}, "depth": 4}, {"name": "3", "dtype": {"name": "float"}, "depending_on": [{"name": "1", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "power", "dtype": {"name": "float"}, "key": "1", "power": {"name": "int", "value": 2}}, "depth": 2}], "aggregated_features": [], "event_timestamp": {"name": "pickuped_at", "dtype": {"name": "datetime"}}, "stream_data_source": {"name": "redis", "topic_name": "departures", "config": {"env_var": "REDIS_URL"}, "mappings": {}}, "indexes": []}, {"name": "mnist", "description": "Features desrcribing the mnist features", "tags": {}, "batch_data_source": {"mapping_keys": {}, "type_name": "csv", "path": "data/mnist.csv", "csv_config": {"seperator": ",", "compression": "infer", "should_write_index": false}}, "entities": [{"name": "id", "dtype": {"name": "int32"}}], "features": [{"name": "label", "dtype": {"name": "int32"}}, {"name": "image_url", "dtype": {"name": "string"}}], "derived_features": [{"name": "grayscale_image", "dtype": {"name": "array"}, "depending_on": [{"name": "image", "location": {"name": "mnist", "location": "feature_view"}, "dtype": {"name": "array"}}], "transformation": {"name": "grayscale_image", "dtype": {"name": "array"}, "image_key": "image"}, "depth": 2}, {"name": "image", "dtype": {"name": "array"}, "depending_on": [{"name": "image_url", "location": {"name": "mnist", "location": "feature_view"}, "dtype": {"name": "string"}}], "transformation": {"name": "load_image", "dtype": {"name": "array"}, "image_url_key": "image_url"}, "depth": 1}], "aggregated_features": [], "stream_data_source": {"name": "http", "topic_name": "mnist", "mappings": {}}, "indexes": []}, {"name": "taxi_vendor", "description": "Features realated to the taxi vendor", "tags": {}, "batch_data_source": {"mapping_keys": {"passenger_count": "number_of_passengers"}, "type_name": "psql", "config": {"env_var": "TAXI_DATABASE", "schema": null}, "table": "departures"}, "entities": [{"name": "vendor_id", "dtype": {"name": "int32"}}], "features": [{"name": "pickuped_at", "dtype": {"name": "datetime"}}, {"name": "number_of_passengers", "dtype": {"name": "int32"}, "constraints": [{"name": "requierd"}, {"name": "lower_bound", "value": 0.0}]}], "derived_features": [{"name": "mean_passenger_change", "dtype": {"name": "float"}, "depending_on": [{"name": "passenger_20_min_mean", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "passenger_hour_mean", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "float"}}], "transformation": {"name": "sub", "dtype": {"name": "float"}, "front": "passenger_20_min_mean", "behind": "passenger_hour_mean"}, "depth": 2}], "aggregated_features": [{"derived_feature": {"name": "passenger_20_min_sum", "dtype": {"name": "float"}, "depending_on": [{"name": "number_of_passengers", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "transformation": {"name": "sum_agg", "dtype": {"name": "float"}, "key": "number_of_passengers", "group_keys": ["vendor_id"]}, "depth": 1}, "aggregate_over": {"group_by": [{"name": "vendor_id", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "window": {"time_window": 1200.0, "time_column": {"name": "pickuped_at", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "datetime"}}}}}, {"derived_feature": {"name": "passenger_hour_count", "dtype": {"name": "int64"}, "depending_on": [{"name": "number_of_passengers", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "transformation": {"name": "count_agg", "dtype": {"name": "float"}, "key": "number_of_passengers", "group_keys": ["vendor_id"]}, "depth": 1}, "aggregate_over": {"group_by": [{"name": "vendor_id", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "window": {"time_window": 3600.0, "time_column": {"name": "pickuped_at", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "datetime"}}}}}, {"derived_feature": {"name": "passenger_20_min_variance", "dtype": {"name": "float"}, "depending_on": [{"name": "number_of_passengers", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "transformation": {"name": "var_agg", "dtype": {"name": "float"}, "key": "number_of_passengers", "group_keys": ["vendor_id"]}, "depth": 1}, "aggregate_over": {"group_by": [{"name": "vendor_id", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "window": {"time_window": 1200.0, "time_column": {"name": "pickuped_at", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "datetime"}}}}}, {"derived_feature": {"name": "passenger_20_min_count", "dtype": {"name": "int64"}, "depending_on": [{"name": "number_of_passengers", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "transformation": {"name": "count_agg", "dtype": {"name": "float"}, "key": "number_of_passengers", "group_keys": ["vendor_id"]}, "depth": 1}, "aggregate_over": {"group_by": [{"name": "vendor_id", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "window": {"time_window": 1200.0, "time_column": {"name": "pickuped_at", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "datetime"}}}}}, {"derived_feature": {"name": "passenger_hour_sum", "dtype": {"name": "float"}, "depending_on": [{"name": "number_of_passengers", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "transformation": {"name": "sum_agg", "dtype": {"name": "float"}, "key": "number_of_passengers", "group_keys": ["vendor_id"]}, "depth": 1}, "aggregate_over": {"group_by": [{"name": "vendor_id", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "window": {"time_window": 3600.0, "time_column": {"name": "pickuped_at", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "datetime"}}}}}, {"derived_feature": {"name": "passenger_20_min_mean", "dtype": {"name": "float"}, "depending_on": [{"name": "number_of_passengers", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "transformation": {"name": "mean_agg", "dtype": {"name": "float"}, "key": "number_of_passengers", "group_keys": ["vendor_id"]}, "depth": 1}, "aggregate_over": {"group_by": [{"name": "vendor_id", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "window": {"time_window": 1200.0, "time_column": {"name": "pickuped_at", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "datetime"}}}}}, {"derived_feature": {"name": "passenger_hour_mean", "dtype": {"name": "float"}, "depending_on": [{"name": "number_of_passengers", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "transformation": {"name": "mean_agg", "dtype": {"name": "float"}, "key": "number_of_passengers", "group_keys": ["vendor_id"]}, "depth": 1}, "aggregate_over": {"group_by": [{"name": "vendor_id", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "window": {"time_window": 3600.0, "time_column": {"name": "pickuped_at", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "datetime"}}}}}, {"derived_feature": {"name": "passenger_hour_variance", "dtype": {"name": "float"}, "depending_on": [{"name": "number_of_passengers", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "transformation": {"name": "var_agg", "dtype": {"name": "float"}, "key": "number_of_passengers", "group_keys": ["vendor_id"]}, "depth": 1}, "aggregate_over": {"group_by": [{"name": "vendor_id", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int32"}}], "window": {"time_window": 3600.0, "time_column": {"name": "pickuped_at", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "datetime"}}}}}], "event_timestamp": {"name": "pickuped_at", "dtype": {"name": "datetime"}}, "stream_data_source": {"name": "redis", "topic_name": "departures", "config": {"env_var": "REDIS_URL"}, "mappings": {}}, "indexes": []}], "combined_feature_views": [], "models": [{"name": "taxi", "features": [{"name": "passenger_hour_count", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int64"}}, {"name": "passenger_20_min_variance", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "day_of_week", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "int32"}}, {"name": "mean_passenger_change", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "travel_distance", "location": {"name": "taxi_departures", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "passenger_20_min_count", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "int64"}}, {"name": "passenger_20_min_mean", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "passenger_hour_mean", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "float"}}, {"name": "passenger_hour_variance", "location": {"name": "taxi_vendor", "location": "feature_view"}, "dtype": {"name": "float"}}], "predictions_view": {"entities": [{"name": "trip_id", "dtype": {"name": "uuid"}}, {"name": "vendor_id", "dtype": {"name": "int32"}}], "features": [], "derived_features": [], "source": {"mapping_keys": {}, "type_name": "psql", "config": {"env_var": "TAXI_DATABASE", "schema": null}, "table": "predicted_trips"}, "stream_source": {"name": "redis", "topic_name": "predicted_trips", "config": {"env_var": "REDIS_URL"}, "mappings": {}}, "regression_targets": [{"estimating": {"name": "duration", "location": {"name": "taxi_arrivals", "location": "feature_view"}, "dtype": {"name": "int64"}}, "feature": {"name": "duration", "dtype": {"name": "int64"}}, "on_ground_truth_event": {"name": "redis", "topic_name": "on_ground_truth", "config": {"env_var": "REDIS_URL"}, "mappings": {}}, "event_trigger": {"condition": {"name": "0", "dtype": {"name": "bool"}, "depending_on": [{"name": "duration", "location": {"name": "taxi_arrivals", "location": "feature_view"}, "dtype": {"name": "int64"}}], "transformation": {"name": "not_null", "dtype": {"name": "bool"}, "key": "duration"}, "depth": 1}, "event": {"name": "redis", "topic_name": "on_ground_truth", "config": {"env_var": "REDIS_URL"}, "mappings": {}}, "payload": [{"name": "duration", "dtype": {"name": "int64"}, "description": "The duration of the ride", "constraints": [{"name": "requierd"}, {"name": "upper_bound", "value": 14400.0}]}]}}], "classification_targets": []}, "description": "A regression model that predicts the duration of a ride"}, {"name": "titanic", "features": [{"name": "is_male", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "bool"}}, {"name": "is_mr", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "bool"}}, {"name": "has_siblings", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "bool"}}, {"name": "constant_filled_age", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "float"}}], "predictions_view": {"entities": [{"name": "passenger_id", "dtype": {"name": "int32"}}], "features": [{"name": "survived", "dtype": {"name": "bool"}}], "derived_features": [], "source": {"mapping_keys": {"PassengerId": "passenger_id", "Age": "age", "Name": "name", "Sex": "sex", "Survived": "survived", "SibSp": "sibsp", "Cabin": "cabin"}, "type_name": "csv", "path": "https://raw.githubusercontent.com/otovo/aligned-example/main/data/titanic.csv", "csv_config": {"seperator": ",", "compression": "infer", "should_write_index": false}}, "regression_targets": [], "classification_targets": [{"estimating": {"name": "survived", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "bool"}}, "feature": {"name": "survived", "dtype": {"name": "bool"}}, "on_ground_truth_event": {"name": "redis", "topic_name": "passenger_ground_truth", "config": {"env_var": "REDIS_URL"}, "mappings": {}}, "event_trigger": {"condition": {"name": "0", "dtype": {"name": "bool"}, "depending_on": [{"name": "survived", "location": {"name": "titanic", "location": "feature_view"}, "dtype": {"name": "bool"}}], "transformation": {"name": "not_null", "dtype": {"name": "bool"}, "key": "survived"}, "depth": 1}, "event": {"name": "redis", "topic_name": "passenger_ground_truth", "config": {"env_var": "REDIS_URL"}, "mappings": {}}, "payload": [{"name": "survived", "dtype": {"name": "bool"}, "description": "If the passenger survived", "constraints": [{"name": "requierd"}]}]}, "class_probabilities": []}]}, "description": "A model predicting if a passenger will survive on titanic"}, {"name": "mnist", "features": [{"name": "grayscale_image", "location": {"name": "mnist", "location": "feature_view"}, "dtype": {"name": "array"}}], "predictions_view": {"entities": [{"name": "id", "dtype": {"name": "int32"}}], "features": [{"name": "number", "dtype": {"name": "int32"}}], "derived_features": [], "regression_targets": [], "classification_targets": [{"estimating": {"name": "label", "location": {"name": "mnist", "location": "feature_view"}, "dtype": {"name": "int32"}}, "feature": {"name": "number", "dtype": {"name": "int32"}}, "class_probabilities": []}]}, "description": "A model that detects handwritten images"}, {"name": "question_subtopic", "features": [{"name": "question_embedding", "location": {"name": "question", "location": "feature_view"}, "dtype": {"name": "embedding"}}], "predictions_view": {"entities": [{"name": "id", "dtype": {"name": "int64"}}], "features": [{"name": "predicted_id", "dtype": {"name": "int32"}}], "derived_features": [], "regression_targets": [], "classification_targets": [{"estimating": {"name": "topic_id", "location": {"name": "question", "location": "feature_view"}, "dtype": {"name": "int32"}}, "feature": {"name": "predicted_id", "dtype": {"name": "int32"}}, "class_probabilities": []}]}, "description": "Predicts the expected subtopic, by comparing agains similar models"}], "enrichers": []}